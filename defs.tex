\newcommand{\todo}[1]{\textcolor{red}{TODO: [#1]}}
\newcommand{\mfcomment}[1]{\textcolor{blue}{MF: [#1]}}

%\newcommand{\projectname}[0]{\textsc{SafeWasm}}

\usepackage{colortbl}
%\usepackage{pifont}% http://ctan.org/pkg/pifont

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}



\lstdefinestyle{customc}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breaklines,
    tabsize=2,
    numbers=left,
    columns=fullflexible,
    keepspaces=true,
    frame=lines,
    numbersep=2pt,
    escapechar=|,
    captionpos=b,
    language=c,
    keywords={size_t, void, for, int, struct, return, long, char}
}

\lstdefinelanguage{wasm}{
    sensitive=true,
    otherkeywords={},
    morekeywords=[5]{i32, f32, i64, f64, add, const, sub, return, module, func, param, result, global, mut, global, export, import, memory, data, local, get, set, elem, table, call, call_indirect, type, segment, new, set_tag, free, tee},
    keywordstyle={[5]\color{magenta}},
    numberstyle=\tiny\color{black},
    rulecolor=\color{black},
    morecomment=**[l][\itshape\color{codegreen}]{;;},
}

\lstdefinelanguage{llvm}{
    morecomment = [l]{;},
    morestring=[b]",
    sensitive = true,
    classoffset=0,
    morekeywords={
        define, declare, global, constant,
        internal, external, private,
        linkonce, linkonce_odr, weak, weak_odr, appending,
        common, extern_weak,
        thread_local, dllimport, dllexport,
        hidden, protected, default,
        except, deplibs,
        volatile, fastcc, coldcc, cc, ccc,
        x86_stdcallcc, x86_fastcallcc,
        ptx_kernel, ptx_device,
        signext, zeroext, inreg, sret, nounwind, noreturn,
        nocapture, byval, nest, readnone, readonly, noalias, uwtable,
        inlinehint, noinline, alwaysinline, optsize, ssp, sspreq,
        noredzone, noimplicitfloat, naked, alignstack,
        module, asm, align, tail, to,
        addrspace, section, alias, sideeffect, c, gc,
        target, datalayout, triple,
        blockaddress
    },
    classoffset=1, keywordstyle=\color{purple},
    morekeywords={
        fadd, sub, fsub, mul, fmul,
        sdiv, udiv, fdiv, srem, urem, frem,
        and, or, xor,
        icmp, fcmp,
        eq, ne, ugt, uge, ult, ule, sgt, sge, slt, sle,
        oeq, ogt, oge, olt, ole, one, ord, ueq, ugt, uge,
        ult, ule, une, uno,
        nuw, nsw, exact, inbounds,
        phi, call, select, shl, lshr, ashr, va_arg,
        trunc, zext, sext,
        fptrunc, fpext, fptoui, fptosi, uitofp, sitofp,
        ptrtoint, inttoptr, bitcast,
        ret, br, indirectbr, switch, invoke, unwind, unreachable,
        malloc, alloca, free, load, store, getelementptr,
        extractelement, insertelement, shufflevector,
        extractvalue, insertvalue,
    },
    alsoletter={\%},
    keywordsprefix={\%},
}

\lstdefinestyle{customwasm}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breaklines,
    tabsize=2,
    numbers=left,
    columns=fullflexible,
    keepspaces=true,
    frame=lines,
    numbersep=2pt,
    escapechar=|,
    captionpos=b,
    language=wasm,
    keywords={}
}

